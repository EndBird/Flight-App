package group730.bookingclient.core.entities;

import java.io.Serializable;
import java.text.DecimalFormat;
import java.util.Date;

import group730.bookingclient.core.utils.DateTimeUtils;

/**
 * A flight object details the information of a flight.
 * Parameters include the flight number, departure date and time, arrival date
 * and time, name of mAirline, mOrigin of departure, mDestination and the mCost of
 * this flight.
 */
public class Flight implements Serializable {

    private int mFlightNumber;
    private Date mDepartureDateTime;
    private Date mArrivalDateTime;
    private String mAirline;
    private String mOrigin;
    private String mDestination;
    private double mCost;
    private int mNumSeats;

    /**
     * Assigns the default values of a new instance of the Flight object.
     *
     * @param mFlightNumber      int Represents the flight number of the Flight.
     * @param mDepartureDateTime Date Represents the departure date and time of
     *                          the Flight.
     * @param mArrivalDateTime   Date Represents the arrival date and time of the
     *                          Flight.
     * @param mAirline           String Represents the mAirline of the Flight.
     * @param mOrigin            String Represents the mOrigin of the Flight.
     * @param mDestination       String Represents the mDestination of the Flight.
     * @param mCost              double Represents the mCost of the Flight.
     * @param mNumSeats          int Represents the number of seats available
     *                          for the Flight
     */
    public Flight(int mFlightNumber, Date mDepartureDateTime,
                  Date mArrivalDateTime, String mAirline, String mOrigin,
                  String mDestination, double mCost, int mNumSeats) {

        this.mFlightNumber = mFlightNumber;
        this.mDepartureDateTime = mDepartureDateTime;
        this.mArrivalDateTime = mArrivalDateTime;
        this.mAirline = mAirline;
        this.mOrigin = mOrigin;
        this.mDestination = mDestination;
        this.mCost = mCost;
        this.mNumSeats = mNumSeats;
    }

    /**
     * Returns the flight number of this flight.
     *
     * @return Integer representing the flight number.
     */
    public int getFlightNumber() {
        return mFlightNumber;
    }

    /**
     * Re/assigns the flight number of this flight.
     *
     * @param flightNumber Integer representing the flight number.
     */
    public void setFlightNumber(int flightNumber) {
        this.mFlightNumber = flightNumber;
    }

    /**
     * Returns the time at which this flight departs.
     *
     * @return Date object representing the date and/or time.
     */
    public Date getDepartureDateTime() {
        return mDepartureDateTime;
    }

    /**
     * Assigns a departure Date to a flight.
     *
     * @param departureDateTime Date object representing the departure date and/
     *                          or time.
     */
    public void setDepartureDateTime(Date departureDateTime) {
        this.mDepartureDateTime = departureDateTime;
    }

    /**
     * Returns the time at which this flight arrives at its mDestination.
     *
     * @return Date object representing the date and/or time.
     */
    public Date getArrivalDateTime() {
        return mArrivalDateTime;
    }

    /**
     * Assigns the arrival time of this flight at its mDestination.
     *
     * @param arrivalDateTime Date object representing the arrival date and/or
     *                        time.
     */
    public void setArrivalDateTime(Date arrivalDateTime) {
        this.mArrivalDateTime = arrivalDateTime;
    }

    /**
     * Returns the name of the mAirline that is operating this flight.
     *
     * @return A string representing the name.
     */
    public String getAirline() {
        return mAirline;
    }

    /**
     * Assigns the name of the mAirline that is operating this flight.
     *
     * @param airline The name of the mAirline as a string.
     */
    public void setAirline(String airline) {
        this.mAirline = airline;
    }

    /**
     * Returns the mOrigin of departure.
     *
     * @return An string representing the mOrigin.
     */
    public String getOrigin() {
        return mOrigin;
    }

    /**
     * Assigns the mOrigin of departure.
     *
     * @param origin The mOrigin of departure as a string.
     */
    public void setOrigin(String origin) {
        this.mOrigin = origin;
    }

    /**
     * Returns the mDestination of this flight.
     *
     * @return An string representing the mDestination.
     */
    public String getDestination() {
        return mDestination;
    }


    /**
     * Assigns the mDestination of this flight.
     *
     * @param destination The mDestination as a string.
     */
    public void setDestination(String destination) {
        this.mDestination = destination;
    }

    /**
     * Returns the mCost of the flight.
     *
     * @return Double representing the mCost of the flight.
     */
    public double getCost() {
        return mCost;
    }

    /**
     * Assigns the mCost of the flight.
     *
     * @param cost Cost of the flight as a Double.
     */
    public void setCost(double cost) {
        this.mCost = cost;
    }

    /**
     * Returns the number of available seats of this flight.
     *
     * @return Integer representing the number of seats
     * available.
     */
    public int getNumSeats() {
        return mNumSeats;
    }

    /**
     * Re/assigns the number of available seats of this flight.
     *
     * @param numSeats Integer representing the number of available
     *                 seats.
     */
    public void setNumSeats(int numSeats) {
        this.mNumSeats = numSeats;
    }

    /**
     * Returns the duration of the flight in milliseconds.
     *
     * @return A long representation of the duration in milliseconds.
     */

    public long getTimeInMillis() {
        return (this.mArrivalDateTime.getTime()
                - this.mDepartureDateTime.getTime());
    }

    /**
     * Leverages the overloaded toString function and converts the flight in the
     * following format:
     * Number,DepartureDateTime,ArrivalDateTime,Airline,Origin,Destination,Cost
     *
     * @return A string representation of the flight.
     */
    public String toString() {
        return this.toString(true);
    }

    /**
     * Returns String representation of this flight in the following format:
     * Number,DepartureDateTime,ArrivalDateTime,Airline,Origin,Destination,Cost
     *
     * @param showCost Indicates whether the string representation should
     *                 include the mCost of the flight.
     * @return A string representation of the flight.
     */
    public String toString(boolean showCost) {
        return String.format("%s,%s,%s,%s,%s,%s%s",
                mFlightNumber,
                DateTimeUtils.convertDateTimeToString(mDepartureDateTime),
                DateTimeUtils.convertDateTimeToString(mArrivalDateTime),
                mAirline,
                mOrigin,
                mDestination,
                showCost ? "," + new DecimalFormat("0.00").format(mCost) : "");
    }
}

